====================================================================================================
===================== INFORME EXHAUSTIVO: FLUJO COMPLETO DE GESTIÃ“N DE BODEGA ======================
====================================================================================================

----------------------------------â–¶ SECCIÃ“N 1: INVENTARIO DE DATOS----------------------------------

Tabla                    | Registros | Activos | Archivados
----------------------------------------------------------------------
Bodega                    |     8     |    8    |     0     
TemporadaBodega           |     9     |    9    |     0     
CierreSemanal             |    10     |   10    |     0     
LoteBodega                |    12     |    6    |     6     
Recepcion                 |    77     |   71    |     6     
ClasificacionEmpaque      |    63     |   46    |     17    
CamionSalida              |    16     |   12    |     4     
CamionConsumoEmpaque      |    12     |   12    |     0     

----------------------â–¶ SECCIÃ“N 2: PROPAGACIÃ“N DE CONTEXTO (IDs Padre â†’ Hijo)-----------------------

[NIVEL 1] Bodega â†’ Temporada:
  ğŸ“¦ Bodega[ID=17] 'prueba 5'
     â””â”€ Temporadas activas: 1
  ğŸ“¦ Bodega[ID=16] 'prueba 4'
     â””â”€ Temporadas activas: 2
  ğŸ“¦ Bodega[ID=15] 'prueba 3'
     â””â”€ Temporadas activas: 1

[NIVEL 2] Temporada â†’ Semana:
  ğŸ“… Temporada[ID=9] (Bodega_ID=17)
     â”œâ”€ Semanas totales: 1
     â”œâ”€ Abiertas: 1
     â””â”€ Cer radas: 0
  ğŸ“… Temporada[ID=8] (Bodega_ID=16)
     â”œâ”€ Semanas totales: 1
     â”œâ”€ Abiertas: 1
     â””â”€ Cer radas: 0
  ğŸ“… Temporada[ID=7] (Bodega_ID=16)
     â”œâ”€ Semanas totales: 1
     â”œâ”€ Abiertas: 1
     â””â”€ Cer radas: 0

[NIVEL 3] Semana â†’ Recepciones:
  ğŸ“¦ Semana[ID=10] (Bodega=17, Temporada=9)
     â”œâ”€ PerÃ­odo: 2026-01-02 â†’ (abierta)
     â”œâ”€ Recepciones: 0
     â””â”€ Total cajas: 0
  ğŸ“¦ Semana[ID=8] (Bodega=16, Temporada=7)
     â”œâ”€ PerÃ­odo: 2025-12-31 â†’ (abierta)
     â”œâ”€ Recepciones: 6
     â””â”€ Total cajas: 930
  ğŸ“¦ Semana[ID=7] (Bodega=15, Temporada=6)
     â”œâ”€ PerÃ­odo: 2025-12-30 â†’ (abierta)
     â”œâ”€ Recepciones: 0
     â””â”€ Total cajas: 0

[NIVEL 4] RecepciÃ³n â†’ Clasificaciones:
  ğŸ“¥ RecepciÃ³n[ID=79]
     â”œâ”€ Contexto: Bodega=16, Temp=8, Semana=9
     â”œâ”€ Lote: N/A
     â”œâ”€ Cajas recibidas: 200
     â”œâ”€ Clasificaciones: 0
     â””â”€ Total clasificado: 0
  ğŸ“¥ RecepciÃ³n[ID=69]
     â”œâ”€ Contexto: Bodega=16, Temp=7, Semana=8
     â”œâ”€ Lote: 6
     â”œâ”€ Cajas recibidas: 500
     â”œâ”€ Clasificaciones: 6
     â””â”€ Total clasificado: 500
  ğŸ“¥ RecepciÃ³n[ID=68]
     â”œâ”€ Contexto: Bodega=16, Temp=7, Semana=8
     â”œâ”€ Lote: 5
     â”œâ”€ Cajas recibidas: 50
     â”œâ”€ Clasificaciones: 2
     â””â”€ Total clasificado: 20

----------------------------â–¶ SECCIÃ“N 3: VALIDACIÃ“N DE INTEGRIDAD DE IDs----------------------------

[CHECK 1] Clasificaciones heredan IDs de RecepciÃ³n:
  âœ… CORRECTO: Todas las clasificaciones tienen IDs consistentes

[CHECK 2] Recepciones estÃ¡n en semanas vÃ¡lidas:
  âœ… CORRECTO: Todas las recepciones tienen IDs consistentes con su semana

---------------------------â–¶ SECCIÃ“N 4: VALIDACIÃ“N DE CONSTRAINTS ÃšNICOS----------------------------

[CONSTRAINT] MÃ¡ximo 1 semana abierta por (bodega, temporada):
  âœ… CORRECTO: No hay semanas abiertas duplicadas

--------------------------â–¶ SECCIÃ“N 5: INTEGRIDAD DE BALANCE (Overpicking)--------------------------

[CHECK] ClasificaciÃ³n no excede RecepciÃ³n:
  âœ… CORRECTO: No hay overpicking detectado

-------------------------------â–¶ SECCIÃ“N 6: TRAZABILIDAD (LoteBodega)-------------------------------

[LOTES] PropagaciÃ³n de Lote a Recepciones y Clasificaciones:
  ğŸ·ï¸  Lote[ID=6] 'B16-T7-S8-HYAH-MMANI-C500'
     â”œâ”€ Contexto: Bodega=16, Temp=7, Semana=8
     â”œâ”€ Origen: yahir
     â”œâ”€ Recepciones: 1
     â””â”€ Clasificaciones: 6
  ğŸ·ï¸  Lote[ID=5] 'B16-T7-S8-HTES-MHADE-C050'
     â”œâ”€ Contexto: Bodega=16, Temp=7, Semana=8
     â”œâ”€ Origen: Test Huertero
     â”œâ”€ Recepciones: 1
     â””â”€ Clasificaciones: 2
  ğŸ·ï¸  Lote[ID=4] 'B16-T7-S8-HPOP-MMANI-C125'
     â”œâ”€ Contexto: Bodega=16, Temp=7, Semana=8
     â”œâ”€ Origen: popo
     â”œâ”€ Recepciones: 1
     â””â”€ Clasificaciones: 1

---------------------------â–¶ SECCIÃ“N 7: STOCK REAL (CamionConsumoEmpaque)---------------------------

[CAMIONES] Consumo de Stock:
  ğŸš› CamiÃ³n[ID=12] Placas:TEST-123, Estado:CONFIRMADO
     â”œâ”€ Contexto: Bodega=16, Temp=7
     â”œâ”€ Cargas: 1
     â””â”€ Total cajas: 50
  ğŸš› CamiÃ³n[ID=11] Placas:220315, Estado:BORRADOR
     â”œâ”€ Contexto: Bodega=16, Temp=7
     â”œâ”€ Cargas: 0
     â””â”€ Total cajas: 0
  ğŸš› CamiÃ³n[ID=10] Placas:220315, Estado:BORRADOR
     â”œâ”€ Contexto: Bodega=16, Temp=7
     â”œâ”€ Cargas: 0
     â””â”€ Total cajas: 0

-----------------------------â–¶ SECCIÃ“N 8: MÃQUINA DE ESTADOS (Semanas)------------------------------

[ESTADOS] DistribuciÃ³n de Semanas:
  ğŸŸ¢ ABIERTAS (fecha_hasta=NULL): 7
  ğŸ”µ CERRADAS (fecha_hasta!=NULL): 3
  ğŸ“¦ ARCHIVADAS (is_active=False): 0

[ANÃLISIS] Semanas Abiertas - DetecciÃ³n de vencidas:
  Semana[ID=10]: Inicio=2026-01-02, DÃ­as=0 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=8]: Inicio=2025-12-31, DÃ­as=2 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=7]: Inicio=2025-12-30, DÃ­as=3 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=6]: Inicio=2025-12-30, DÃ­as=3 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=9]: Inicio=2025-12-29, DÃ­as=4 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=5]: Inicio=2025-12-29, DÃ­as=4 â†’ ğŸŸ¢ VIGENTE
  Semana[ID=3]: Inicio=2025-12-23, DÃ­as=10 â†’ ğŸ”´ VENCIDA (dÃ­a 10)

====================================================================================================
                                    FIN DEL ANÃLISIS EXHAUSTIVO                                     
====================================================================================================
